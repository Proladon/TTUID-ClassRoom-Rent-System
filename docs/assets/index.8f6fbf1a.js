import{o as E,c as B,i as X,g as ee,O as te,d as k,u as q,a as ae,b as L,e as S,r as F,f as U,l as $,M as se,B as oe,h as ue,j as le,k as G,m as g,n as t,w as s,p as e,N as h,q as re,s as x,t as ne,v as ie,x as I,y as b,z as de,A as ce,C as N,D as O,E as pe,F as _e,G as fe,H as ve,I as me,J as V,K as he,L as v,P as M,Q as y,R as Y,S as ge,T as be,U as ye,V as De,W as Ce,X as z,Y as Ee,Z as Be,_ as Ae,$ as Fe,a0 as we}from"./vendor.783a2ae5.js";const $e=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const i of u.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerpolicy&&(u.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?u.credentials="include":r.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function c(r){if(r.ep)return;r.ep=!0;const u=n(r);fetch(r.href,u)}};$e();var P=(_,o)=>{for(const[n,c]of o)_[n]=c;return _};const Ne={},ke={class:"app-footer"};function Ie(_,o){return E(),B("footer",ke,"By Proladon @2021")}var Me=P(Ne,[["render",Ie],["__scopeId","data-v-07260078"]]);const Pe={apiKey:"AIzaSyBZFRiOJ10MU2AAqAZkmRpmR-Lg8ShF45Q",authDomain:"ttu-classroom-rent-9d853.firebaseapp.com",projectId:"ttu-classroom-rent-9d853",storageBucket:"ttu-classroom-rent-9d853.appspot.com",messagingSenderId:"1041425767852",appId:"1:1041425767852:web:bcef0428b76402ad41ae09",measurementId:"G-T811XC50GG"},Se=X(Pe);ee(Se);const j=te();const Ue={class:"navbar"},Re={class:"nav-wrapper"},Te={class:"<tablet:hidden"},qe=b(" \u586B\u5BEB\u7533\u8ACB\u8868\u55AE "),Le={class:"nav-btn-container"},xe=b("\u{1F530} \u898F\u5B9A\u53CA\u6CE8\u610F\u4E8B\u9805"),Oe=["href"],je=b("\u{1F4C4} \u7D19\u672C\u8868\u55AE"),Ge=b("\u2754 \u95DC\u65BC"),Ve={class:"flex items-center tablet:hidden"},Ye={class:"grid gap-4"},ze=b(" \u586B\u5BEB\u7533\u8ACB\u8868\u55AE "),He=b("\u{1F530} \u898F\u5B9A\u53CA\u6CE8\u610F\u4E8B\u9805"),Ze=["href"],Qe=b("\u{1F4C4} \u7D19\u672C\u8868\u55AE"),Ke=b("\u2754 \u95DC\u65BC"),We={key:0},Je=b(" \u7BA1\u7406\u54E1\u767B\u5165 "),Xe={key:1,class:"grid grid-cols-2 gap-4"},et=b(" \u5F8C\u53F0\u7BA1\u7406 "),tt=b(" \u767B\u51FA "),at=k({setup(_){const o=q(),n=ae(),c=L(),r=S(()=>o.state.signin),u=S(()=>o.state.config),i=F(!1),f=()=>{$.remove("user"),o.commit("SET_SIGNIN",!1),c.warning("\u5DF2\u6210\u529F\u767B\u51FA !"),n.push("/")};return U(async()=>{const a=$.get("user");if(!a)return;const p=se(ue(j,"Admins"),oe("uid","==",a.uid));(await le(p)).size&&o.commit("SET_SIGNIN",!0)}),(a,p)=>{const m=G("router-link");return E(),B("header",Ue,[g("div",Re,[g("section",Te,[t(m,{to:"/"},{default:s(()=>[t(e(h),{type:"primary",ghost:""},{default:s(()=>[qe]),_:1})]),_:1})]),g("section",Le,[t(m,{to:"/rules"},{default:s(()=>[t(e(h),null,{default:s(()=>[xe]),_:1})]),_:1}),g("a",{href:e(u).pdfFormLink,target:"_blank"},[t(e(h),null,{default:s(()=>[je]),_:1})],8,Oe),t(m,{to:"/about"},{default:s(()=>[t(e(h),null,{default:s(()=>[Ge]),_:1})]),_:1})]),g("section",Ve,[t(e(x),{onClick:p[0]||(p[0]=w=>i.value=!i.value),color:"white",size:"30"},{default:s(()=>[t(e(re))]),_:1})]),t(e(ie),{show:i.value,"onUpdate:show":p[4]||(p[4]=w=>i.value=w),width:"200px",placement:"left"},{default:s(()=>[t(e(ne),{title:"Menu",closable:""},{default:s(()=>[g("div",Ye,[t(m,{to:"/",onClick:p[1]||(p[1]=w=>i.value=!1)},{default:s(()=>[t(e(h),{type:"primary",ghost:"",block:""},{default:s(()=>[ze]),_:1})]),_:1}),t(m,{to:"/rules",onClick:p[2]||(p[2]=w=>i.value=!1)},{default:s(()=>[t(e(h),{block:""},{default:s(()=>[He]),_:1})]),_:1}),g("a",{href:e(u).pdfFormLink,target:"_blank"},[t(e(h),{block:""},{default:s(()=>[Qe]),_:1})],8,Ze),t(m,{to:"/about",onClick:p[3]||(p[3]=w=>i.value=!1)},{default:s(()=>[t(e(h),{block:""},{default:s(()=>[Ke]),_:1})]),_:1})])]),_:1})]),_:1},8,["show"]),g("section",null,[e(r)?I("",!0):(E(),B("div",We,[t(m,{to:"/admin-login"},{default:s(()=>[t(e(h),{type:"primary",ghost:""},{default:s(()=>[Je]),_:1})]),_:1})])),e(r)?(E(),B("div",Xe,[t(m,{to:"/dashboard"},{default:s(()=>[t(e(h),{type:"warning"},{default:s(()=>[et]),_:1})]),_:1}),t(e(h),{onClick:f,type:"primary",ghost:"",block:""},{default:s(()=>[tt]),_:1})])):I("",!0)])])])}}});var st=P(at,[["__scopeId","data-v-3d1b611f"]]);const ot={};const ut={class:"bg-gray-600"},lt=k({setup(_){const o=q(),n=S(()=>o.state.config);return U(async()=>{const r=(await de(ce(j,"App","config"))).data();o.commit("SET_CONFIG",r),o.commit("SET_DB",j);const u=$.get("user");if(!u)return;const i=N(new Date).unix();u.exp<i?($.remove("user"),o.commit("SET_SIGNIN",!1)):u.exp>i&&o.commit("SET_SIGNIN",!0)}),(c,r)=>{const u=st,i=G("router-view"),f=Me;return e(n)?(E(),O(e(fe),{key:0,"theme-overrides":e(ot),theme:e(_e)},{default:s(()=>[t(e(pe),null,{default:s(()=>[g("div",ut,[t(u,{class:"app-spacing"})]),t(i,{class:"main-view app-spacing"}),t(f)]),_:1})]),_:1},8,["theme-overrides","theme"])):I("",!0)}}}),rt="modulepreload",H={},nt="/TTUID-ClassRoom-Rent-System/",R=function(o,n){return!n||n.length===0?o():Promise.all(n.map(c=>{if(c=`${nt}${c}`,c in H)return;H[c]=!0;const r=c.endsWith(".css"),u=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const i=document.createElement("link");if(i.rel=r?"stylesheet":rt,r||(i.as="script",i.crossOrigin=""),i.href=c,document.head.appendChild(i),r)return new Promise((f,a)=>{i.addEventListener("load",f),i.addEventListener("error",a)})})).then(()=>o())};const it={class:"date-period"},dt=b("08:10 ~ 11:30"),ct=b("13:00 ~ 16:30"),pt=b("17:00 ~ 22:00"),_t=b("\u5168\u5929"),ft=k({props:{periodErr:Boolean},emits:["date","period"],setup(_,{emit:o}){const n=F([]),c=f=>{if(f===0){n.value=[0],o("period",n.value);return}const a=V(n.value,m=>m===f);a>=0&&n.value.splice(a,1),a<0&&n.value.push(f);const p=V(n.value,m=>m===0);p>=0&&n.value.splice(p,1),o("period",n.value)},r=f=>{o("date",f)},u=f=>n.value.includes(f)?"primary":"",i=f=>{const a=N(new Date(f)),p=N(new Date),m=p.add(21,"d");return!(a.isAfter(p)&&a.isBefore(m))};return(f,a)=>(E(),B("div",it,[t(e(ve),{class:"w-full","is-date-disabled":i,placeholder:"\u9078\u64C7\u501F\u7528\u65E5\u671F","on-update:value":r}),g("div",{class:me(["period-group",{error:_.periodErr&&!n.value.length}])},[t(e(h),{class:"w-full",type:u(1),onClick:a[0]||(a[0]=p=>c(1))},{default:s(()=>[dt]),_:1},8,["type"]),t(e(h),{class:"w-full",type:u(2),onClick:a[1]||(a[1]=p=>c(2))},{default:s(()=>[ct]),_:1},8,["type"]),t(e(h),{class:"w-full",type:u(3),onClick:a[2]||(a[2]=p=>c(3))},{default:s(()=>[pt]),_:1},8,["type"]),t(e(h),{class:"w-full",type:u(0),onClick:a[3]||(a[3]=p=>c(0))},{default:s(()=>[_t]),_:1},8,["type"])],2)]))}});var vt=P(ft,[["__scopeId","data-v-4bf8087e"]]);const mt={0:"\u5168\u5929",1:"08:10 ~ 11:30",2:"13:00 ~ 16:30",3:"17:00 ~ 22:00"},ht=(_,o)=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(o),Z=(_,o)=>/^09\d{8}$/.test(o);var gt={rentDate:{required:!0,type:"number",trigger:"blur"},class:{required:!0,trigger:"blur"},teacher:{required:!0,trigger:"blur"},purpose:{required:!0,trigger:"blur"},tools:{required:!0,trigger:"blur"},renter:{required:!0,trigger:"blur"},renterClassNo:{required:!0,trigger:"blur"},renterID:{required:!0,trigger:"blur"},renterPhone:{required:!0,trigger:"blur",validator:Z},renterEmail:{required:!0,trigger:"blur",validator:ht},agent:{required:!0,trigger:"blur"},agentClassNo:{required:!0,trigger:"blur"},agentID:{required:!0,trigger:"blur"},agentPhone:{required:!0,trigger:"blur",validator:Z}};const T={trigger:"input",validator(_,o){return o.length?!0:new Error("")}};const bt={class:"group-container"},yt={class:"grid gap-5"},Dt={class:"user-input-container"},Ct={class:"user-input-container"},Et={class:"user-input-container"},Bt=b(" \u65B0\u589E\u5171\u540C\u4F7F\u7528\u4EBA"),At=b("\u9001\u51FA\u7533\u8ACB"),Ft=k({emits:["submit"],setup(_,{emit:o}){const n=L(),c=F(0),r=F(!1),u=F([]),i=F(null),f=gt,a=he({applyDate:null,rentDate:null,class:"",teacher:"",purpose:"",tools:"",renter:"",renterClassNo:"",renterID:"",renterPhone:"",renterEmail:"",agent:"",agentClassNo:"",agentID:"",agentPhone:"",classMate:[],classMateString:"",periods:[]}),p=()=>{a.classMate.length!==10&&a.classMate.push({name:"",classNo:"",id:"",phone:""})},m=C=>{a.classMate.splice(C,1)},w=C=>{a.rentDate=C},Q=C=>{u.value=C},K=()=>{a.rentDate=N(a.rentDate).format("YYYY-MM-DD"),a.applyDate=N(new Date).format("YYYY-MM-DD");const C=[];a.classMate.forEach(l=>{C.push(`\u3010\u59D3\u540D: ${l.name} | \u73ED\u7D1A\u5EA7\u865F: ${l.classNo} | \u5B78\u865F: ${l.id} | \u96FB\u8A71: ${l.phone}\u3011`),a.classMateString=C.join("  ||  ")}),a.periods=Ce(u.value,l=>mt[l]).join("\u3001")},W=()=>{var C;(C=i.value)==null||C.validate(l=>{if(!l){if(!u.value.length){r.value=!0,n.warning("\u8ACB\u9078\u64C7\u501F\u7528\u6642\u6BB5");return}K(),o("submit",a)}})};return U(()=>{const C=$.get("cd");C&&console.log(C)}),(C,l)=>{const J=vt;return E(),B(Y,null,[t(e(ye),{model:e(a),rules:e(f),ref:(d,D)=>{D.formRef=d,i.value=d},"show-feedback":!1,"show-require-mark":!1},{default:s(()=>[t(e(v),{label:"\u6B32\u501F\u7528\u65E5\u671F",path:"rentDate"},{default:s(()=>[t(J,{onDate:w,onPeriod:Q,periodErr:r.value},null,8,["periodErr"])]),_:1}),t(e(M)),g("div",bt,[t(e(v),{label:"\u8AB2\u7A0B\u540D\u7A31",path:"class"},{default:s(()=>[t(e(y),{placeholder:"\u8ACB\u8F38\u5165",value:e(a).class,"onUpdate:value":l[0]||(l[0]=d=>e(a).class=d)},null,8,["value"])]),_:1}),t(e(v),{label:"\u6388\u8AB2\u6559\u5E2B",path:"teacher"},{default:s(()=>[t(e(y),{placeholder:"\u8ACB\u8F38\u5165",value:e(a).teacher,"onUpdate:value":l[1]||(l[1]=d=>e(a).teacher=d)},null,8,["value"])]),_:1}),t(e(v),{label:"\u7528\u9014",path:"purpose"},{default:s(()=>[t(e(y),{placeholder:"\u8ACB\u8F38\u5165",value:e(a).purpose,"onUpdate:value":l[2]||(l[2]=d=>e(a).purpose=d)},null,8,["value"])]),_:1}),t(e(v),{label:"\u501F\u7528\u5668\u6750",path:"tools"},{default:s(()=>[t(e(y),{placeholder:"\u8ACB\u8F38\u5165",value:e(a).tools,"onUpdate:value":l[3]||(l[3]=d=>e(a).tools=d)},null,8,["value"])]),_:1})]),t(e(M)),g("div",yt,[t(e(v),{label:"\u501F\u7528\u4EBA"},{default:s(()=>[g("div",Dt,[t(e(v),{path:"renter","show-label":!1},{default:s(()=>[t(e(y),{placeholder:"\u59D3\u540D",value:e(a).renter,"onUpdate:value":l[4]||(l[4]=d=>e(a).renter=d)},null,8,["value"])]),_:1}),t(e(v),{path:"renterClassNo","show-label":!1},{default:s(()=>[t(e(y),{placeholder:"\u73ED\u7D1A\u5EA7\u865F",value:e(a).renterClassNo,"onUpdate:value":l[5]||(l[5]=d=>e(a).renterClassNo=d)},null,8,["value"])]),_:1}),t(e(v),{path:"renterID","show-label":!1},{default:s(()=>[t(e(y),{placeholder:"\u5B78\u865F",value:e(a).renterID,"onUpdate:value":l[6]||(l[6]=d=>e(a).renterID=d)},null,8,["value"])]),_:1}),t(e(v),{path:"renterPhone","show-label":!1},{default:s(()=>[t(e(y),{placeholder:"\u96FB\u8A71",maxlength:"10",value:e(a).renterPhone,"onUpdate:value":l[7]||(l[7]=d=>e(a).renterPhone=d)},null,8,["value"])]),_:1})])]),_:1}),t(e(v),{"label-placement":"top",label:"\u4EE3\u7406\u4EBA"},{default:s(()=>[g("div",Ct,[t(e(v),{path:"agent","show-label":!1},{default:s(()=>[t(e(y),{placeholder:"\u59D3\u540D",value:e(a).agent,"onUpdate:value":l[8]||(l[8]=d=>e(a).agent=d)},null,8,["value"])]),_:1}),t(e(v),{path:"agentClassNo","show-label":!1},{default:s(()=>[t(e(y),{placeholder:"\u73ED\u7D1A\u5EA7\u865F",value:e(a).agentClassNo,"onUpdate:value":l[9]||(l[9]=d=>e(a).agentClassNo=d)},null,8,["value"])]),_:1}),t(e(v),{path:"agentID","show-label":!1},{default:s(()=>[t(e(y),{placeholder:"\u5B78\u865F",value:e(a).agentID,"onUpdate:value":l[10]||(l[10]=d=>e(a).agentID=d)},null,8,["value"])]),_:1}),t(e(v),{path:"agentPhone","show-label":!1},{default:s(()=>[t(e(y),{placeholder:"\u96FB\u8A71",maxlength:"10",value:e(a).agentPhone,"onUpdate:value":l[11]||(l[11]=d=>e(a).agentPhone=d)},null,8,["value"])]),_:1})])]),_:1})]),t(e(M)),(E(!0),B(Y,null,ge(e(a).classMate,(d,D)=>(E(),O(e(v),{"label-placement":"top",key:`mate-${D}`},{default:s(()=>[g("div",Et,[t(e(v),{"ignore-path-change":"",path:`classMate[${D}].name`,"show-label":!1,rule:e(T)},{default:s(()=>[t(e(y),{placeholder:"\u5171\u540C\u4F7F\u7528\u4EBA",value:e(a).classMate[D].name,"onUpdate:value":A=>e(a).classMate[D].name=A},null,8,["value","onUpdate:value"])]),_:2},1032,["path","rule"]),t(e(v),{"ignore-path-change":"",path:`classMate[${D}].classNo`,"show-label":!1,rule:e(T)},{default:s(()=>[t(e(y),{placeholder:"\u73ED\u7D1A\u5EA7\u865F",value:e(a).classMate[D].classNo,"onUpdate:value":A=>e(a).classMate[D].classNo=A},null,8,["value","onUpdate:value"])]),_:2},1032,["path","rule"]),t(e(v),{"ignore-path-change":"",path:`classMate[${D}].id`,"show-label":!1,rule:e(T)},{default:s(()=>[t(e(y),{placeholder:"\u5B78\u865F",value:e(a).classMate[D].id,"onUpdate:value":A=>e(a).classMate[D].id=A},null,8,["value","onUpdate:value"])]),_:2},1032,["path","rule"]),t(e(v),{"ignore-path-change":"",path:`classMate[${D}].phone`,"show-label":!1,rule:e(T)},{default:s(()=>[t(e(y),{maxlength:"10",placeholder:"\u96FB\u8A71",value:e(a).classMate[D].phone,"onUpdate:value":A=>e(a).classMate[D].phone=A},null,8,["value","onUpdate:value"])]),_:2},1032,["path","rule"])]),t(e(h),{class:"ml-2",type:"error",ghost:"",onClick:A=>m(D)},{icon:s(()=>[t(e(x),null,{default:s(()=>[t(e(De))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024))),128)),e(a).classMate.length<10?(E(),O(e(h),{key:0,dashed:"",block:"",class:"mt-5",type:"primary",onClick:p},{icon:s(()=>[t(e(x),null,{default:s(()=>[t(e(be))]),_:1})]),default:s(()=>[Bt]),_:1})):I("",!0),t(e(M)),t(e(v),{label:"\u501F\u7528\u4EBA\u4FE1\u7BB1",path:"renterEmail"},{default:s(()=>[t(e(y),{placeholder:"\u96FB\u5B50\u4FE1\u7BB1",value:e(a).renterEmail,"onUpdate:value":l[12]||(l[12]=d=>e(a).renterEmail=d)},null,8,["value"])]),_:1})]),_:1},8,["model","rules"]),t(e(M)),t(e(h),{type:"primary",block:"",onClick:W,class:"h-[50px] !font-bold text-gray-600",disabled:c.value>0},{default:s(()=>[At]),_:1},8,["disabled"])],64)}}});var wt=P(Ft,[["__scopeId","data-v-01647aa4"]]);const $t={class:"home"},Nt={id:"calendar-wrapper",class:"block-container"},kt=["src"],It={id:"form-wrapper",class:"block-container"},Mt=k({setup(_){const o=q(),n=S(()=>o.state.config),c=F(!1),r=L(),u=F(!1),i=async f=>{u.value=!0;try{await Ee(n.value.serviceID,n.value.templateID,f,n.value.mailjsUserID),r.success("\u5DF2\u6210\u529F\u5BC4\u51FA\u7533\u8ACB !"),u.value=!1,$.set("cd",N(new Date).add(10,"m").unix()),setTimeout(()=>{location.reload()},1e3)}catch(a){r.error(`${a}
 \u8ACB\u806F\u7E6B\u7BA1\u7406\u54E1`),console.log(a),u.value=!1}};return U(async()=>{}),(f,a)=>{const p=wt;return E(),B("main",$t,[g("section",Nt,[t(e(z),{show:!c.value,class:"w-full h-full rounded-md"},{default:s(()=>[e(n)?(E(),B("iframe",{key:0,class:"w-full h-full rounded-md min-h-[500px]",src:e(n).gCalendar,frameborder:"0",onLoad:a[0]||(a[0]=m=>c.value=!0)},null,40,kt)):I("",!0)]),_:1},8,["show"])]),g("section",It,[t(e(z),{show:u.value},{default:s(()=>[t(p,{onSubmit:i})]),_:1},8,["show"])])])}}});var Pt=P(Mt,[["__scopeId","data-v-6f75ea3f"]]);const St=[{path:"/",name:"Home",component:Pt},{path:"/admin-login",name:"AdminLogin",component:()=>R(()=>import("./AdminLogin.47cffe06.js"),["assets/AdminLogin.47cffe06.js","assets/AdminLogin.fc53a793.css","assets/vendor.783a2ae5.js"])},{path:"/dashboard",name:"Dashboard",component:()=>R(()=>import("./Dashboard.43fa1361.js"),["assets/Dashboard.43fa1361.js","assets/Dashboard.06eea2a2.css","assets/vendor.783a2ae5.js"])},{path:"/rules",name:"Rules",component:()=>R(()=>import("./Rules.1691b3c1.js"),["assets/Rules.1691b3c1.js","assets/Rules.e185e264.css","assets/vendor.783a2ae5.js"])},{path:"/about",name:"About",component:()=>R(()=>import("./About.dbc3f717.js"),["assets/About.dbc3f717.js","assets/About.a64171ed.css","assets/vendor.783a2ae5.js"])}],Ut=Be({history:Ae(),routes:St});var Rt=Fe({state:{config:null,db:null,signin:!1,user:null},mutations:{SET_CONFIG:(_,o)=>{_.config=o},SET_DB:(_,o)=>{_.db=o},SET_SIGNIN:(_,o)=>{_.signin=o},SET_USER:(_,o)=>{_.user=o}},actions:{},modules:{}});we(lt).use(Ut).use(Rt).mount("#app");export{P as _,j as d,ht as e};
