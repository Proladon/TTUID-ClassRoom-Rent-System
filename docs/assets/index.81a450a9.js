import{o as E,c as B,i as X,g as ee,O as te,d as w,u as R,a as ae,b as I,r as F,e as M,l as P,M as se,B as ue,f as oe,h as le,j as O,k as h,m as t,w as s,n as e,N as m,p as re,q,s as ne,t as ie,v as $,x as g,y as de,z as ce,A as L,C as pe,D as _e,E as fe,F as ve,G as me,H as j,I as G,J as he,K as f,L as k,P as b,Q as V,R as ge,S as be,T as ye,U as Ce,V as T,W as De,X as Y,Y as Ee,Z as Be,_ as Ae,$ as Fe,a0 as we}from"./vendor.b7fa2fb1.js";const $e=function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))d(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const _ of o.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&d(_)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function d(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}};$e();var N=(p,u)=>{for(const[n,d]of u)p[n]=d;return p};const ke={},Ne={class:"app-footer"};function Ie(p,u){return E(),B("footer",Ne,"By Proladon @2021")}var Me=N(ke,[["render",Ie],["__scopeId","data-v-07260078"]]);const Pe={apiKey:"AIzaSyBZFRiOJ10MU2AAqAZkmRpmR-Lg8ShF45Q",authDomain:"ttu-classroom-rent-9d853.firebaseapp.com",projectId:"ttu-classroom-rent-9d853",storageBucket:"ttu-classroom-rent-9d853.appspot.com",messagingSenderId:"1041425767852",appId:"1:1041425767852:web:bcef0428b76402ad41ae09",measurementId:"G-T811XC50GG"},Ue=X(Pe);ee(Ue);const x=te();const Se={class:"navbar"},Re={class:"nav-wrapper"},qe={class:"<tablet:hidden"},Le=g(" \u586B\u5BEB\u7533\u8ACB\u8868\u55AE "),Te={class:"nav-btn-container"},xe=g("\u{1F530} \u898F\u5B9A\u53CA\u6CE8\u610F\u4E8B\u9805"),Oe=["href"],je=g("\u{1F4C4} \u7D19\u672C\u8868\u55AE"),Ge=g("\u2754 \u95DC\u65BC"),Ve={class:"flex items-center tablet:hidden"},Ye={class:"grid gap-4"},ze=g(" \u586B\u5BEB\u7533\u8ACB\u8868\u55AE "),He=g("\u{1F530} \u898F\u5B9A\u53CA\u6CE8\u610F\u4E8B\u9805"),Ze=["href"],Qe=g("\u{1F4C4} \u7D19\u672C\u8868\u55AE"),Ke=g("\u2754 \u95DC\u65BC"),We={key:0},Je=g(" \u7BA1\u7406\u54E1\u767B\u5165 "),Xe={key:1,class:"grid grid-cols-2 gap-4"},et=g(" \u5F8C\u53F0\u7BA1\u7406 "),tt=g(" \u767B\u51FA "),at=w({setup(p){const u=R(),n=ae(),d=I(()=>u.state.signin),r=I(()=>u.state.config),o=F(!1),_=()=>{P.remove("user"),u.commit("SET_SIGNIN",!1),n.push("/")};return M(async()=>{const c=P.get("user");if(!c)return;const a=se(oe(x,"Users"),ue("uid","==",c.uid));(await le(a)).size&&u.commit("SET_SIGNIN",!0)}),(c,a)=>{const v=O("router-link");return E(),B("header",Se,[h("div",Re,[h("section",qe,[t(v,{to:"/"},{default:s(()=>[t(e(m),{type:"primary",ghost:""},{default:s(()=>[Le]),_:1})]),_:1})]),h("section",Te,[t(v,{to:"/rules"},{default:s(()=>[t(e(m),null,{default:s(()=>[xe]),_:1})]),_:1}),h("a",{href:e(r).pdfFormLink,target:"_blank"},[t(e(m),null,{default:s(()=>[je]),_:1})],8,Oe),t(v,{to:"/about"},{default:s(()=>[t(e(m),null,{default:s(()=>[Ge]),_:1})]),_:1})]),h("section",Ve,[t(e(q),{onClick:a[0]||(a[0]=D=>o.value=!o.value),color:"white",size:"30"},{default:s(()=>[t(e(re))]),_:1})]),t(e(ie),{show:o.value,"onUpdate:show":a[4]||(a[4]=D=>o.value=D),width:"200px",placement:"left"},{default:s(()=>[t(e(ne),{title:"Menu",closable:""},{default:s(()=>[h("div",Ye,[t(v,{to:"/",onClick:a[1]||(a[1]=D=>o.value=!1)},{default:s(()=>[t(e(m),{type:"primary",ghost:"",block:""},{default:s(()=>[ze]),_:1})]),_:1}),t(v,{to:"/rules",onClick:a[2]||(a[2]=D=>o.value=!1)},{default:s(()=>[t(e(m),{block:""},{default:s(()=>[He]),_:1})]),_:1}),h("a",{href:e(r).pdfFormLink,target:"_blank"},[t(e(m),{block:""},{default:s(()=>[Qe]),_:1})],8,Ze),t(v,{to:"/about",onClick:a[3]||(a[3]=D=>o.value=!1)},{default:s(()=>[t(e(m),{block:""},{default:s(()=>[Ke]),_:1})]),_:1})])]),_:1})]),_:1},8,["show"]),h("section",null,[e(d)?$("",!0):(E(),B("div",We,[t(v,{to:"/admin-login"},{default:s(()=>[t(e(m),{type:"primary",ghost:""},{default:s(()=>[Je]),_:1})]),_:1})])),e(d)?(E(),B("div",Xe,[t(v,{to:"/dashboard"},{default:s(()=>[t(e(m),{type:"warning"},{default:s(()=>[et]),_:1})]),_:1}),t(e(m),{onClick:_,type:"primary",ghost:"",block:""},{default:s(()=>[tt]),_:1})])):$("",!0)])])])}}});var st=N(at,[["__scopeId","data-v-6d30cfc6"]]);const ut={};const ot={class:"bg-gray-600"},lt=w({setup(p){const u=R(),n=I(()=>u.state.config);return M(async()=>{const r=(await de(ce(x,"App","config"))).data();u.commit("SET_CONFIG",r),u.commit("SET_DB",x)}),(d,r)=>{const o=st,_=O("router-view"),c=Me;return e(n)?(E(),L(e(fe),{key:0,"theme-overrides":e(ut),theme:e(_e)},{default:s(()=>[t(e(pe),null,{default:s(()=>[h("div",ot,[t(o,{class:"app-spacing"})]),t(_,{class:"main-view app-spacing"}),t(c)]),_:1})]),_:1},8,["theme-overrides","theme"])):$("",!0)}}}),rt="modulepreload",z={},nt="/",U=function(u,n){return!n||n.length===0?u():Promise.all(n.map(d=>{if(d=`${nt}${d}`,d in z)return;z[d]=!0;const r=d.endsWith(".css"),o=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${o}`))return;const _=document.createElement("link");if(_.rel=r?"stylesheet":rt,r||(_.as="script",_.crossOrigin=""),_.href=d,document.head.appendChild(_),r)return new Promise((c,a)=>{_.addEventListener("load",c),_.addEventListener("error",a)})})).then(()=>u())};const it={class:"date-period"},dt=g("08:10 ~ 11:30"),ct=g("13:00 ~ 16:30"),pt=g("17:00 ~ 22:00"),_t=g("\u5168\u5929"),ft=w({props:{periodErr:Boolean},emits:["date","period"],setup(p,{emit:u}){const n=F([]),d=c=>{if(c===0){n.value=[0],u("period",n.value);return}const a=j(n.value,D=>D===c);a>=0&&n.value.splice(a,1),a<0&&n.value.push(c);const v=j(n.value,D=>D===0);v>=0&&n.value.splice(v,1),u("period",n.value)},r=c=>{u("date",c)},o=c=>n.value.includes(c)?"primary":"",_=c=>new Date(c).getDate();return(c,a)=>(E(),B("div",it,[t(e(ve),{class:"w-full","is-date-disabled":_,placeholder:"\u9078\u64C7\u501F\u7528\u65E5\u671F","on-update:value":r}),h("div",{class:me(["period-group",{error:p.periodErr&&!n.value.length}])},[t(e(m),{class:"w-full",type:o(1),onClick:a[0]||(a[0]=v=>d(1))},{default:s(()=>[dt]),_:1},8,["type"]),t(e(m),{class:"w-full",type:o(2),onClick:a[1]||(a[1]=v=>d(2))},{default:s(()=>[ct]),_:1},8,["type"]),t(e(m),{class:"w-full",type:o(3),onClick:a[2]||(a[2]=v=>d(3))},{default:s(()=>[pt]),_:1},8,["type"]),t(e(m),{class:"w-full",type:o(0),onClick:a[3]||(a[3]=v=>d(0))},{default:s(()=>[_t]),_:1},8,["type"])],2)]))}});var vt=N(ft,[["__scopeId","data-v-e6b96272"]]);const mt={0:"\u5168\u5929",1:"08:10 ~ 11:30",2:"13:00 ~ 16:30",3:"17:00 ~ 22:00"},ht=(p,u)=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(u),H=(p,u)=>/^09\d{8}$/.test(u);var gt={rentDate:{required:!0,type:"number",trigger:"blur"},class:{required:!0,trigger:"blur"},teacher:{required:!0,trigger:"blur"},purpose:{required:!0,trigger:"blur"},tools:{required:!0,trigger:"blur"},renter:{required:!0,trigger:"blur"},renterClassNo:{required:!0,trigger:"blur"},renterID:{required:!0,trigger:"blur"},renterPhone:{required:!0,trigger:"blur",validator:H},renterEmail:{required:!0,trigger:"blur",validator:ht},agent:{required:!0,trigger:"blur"},agentClassNo:{required:!0,trigger:"blur"},agentID:{required:!0,trigger:"blur"},agentPhone:{required:!0,trigger:"blur",validator:H}};const S={trigger:"input",validator(p,u){return u.length?!0:new Error("")}};const bt={class:"group-container"},yt={class:"grid gap-5"},Ct={class:"user-input-container"},Dt={class:"user-input-container"},Et={class:"user-input-container"},Bt=g(" \u65B0\u589E\u5171\u540C\u4F7F\u7528\u4EBA"),At=g("\u9001\u51FA\u7533\u8ACB"),Ft=w({emits:["submit"],setup(p,{emit:u}){const n=G(),d=F(0),r=F(!1),o=F([]),_=F(null),c=gt,a=he({applyDate:null,rentDate:null,class:"",teacher:"",purpose:"",tools:"",renter:"",renterClassNo:"",renterID:"",renterPhone:"",renterEmail:"",agent:"",agentClassNo:"",agentID:"",agentPhone:"",classMate:[],classMateString:"",periods:[]}),v=()=>{a.classMate.length!==10&&a.classMate.push({name:"",classNo:"",id:"",phone:""})},D=C=>{a.classMate.splice(C,1)},Z=C=>{a.rentDate=C},Q=C=>{o.value=C},K=()=>{a.rentDate=T(a.rentDate).format("YYYY-MM-DD"),a.applyDate=T(new Date).format("YYYY-MM-DD");const C=[];a.classMate.forEach(l=>{C.push(`\u3010\u59D3\u540D: ${l.name} | \u73ED\u7D1A\u5EA7\u865F: ${l.classNo} | \u5B78\u865F: ${l.id} | \u96FB\u8A71: ${l.phone}\u3011`),a.classMateString=C.join("  ||  ")}),a.periods=De(o.value,l=>mt[l]).join("\u3001")},W=()=>{var C;(C=_.value)==null||C.validate(l=>{if(!l){if(!o.value.length){r.value=!0,n.warning("\u8ACB\u9078\u64C7\u501F\u7528\u6642\u6BB5");return}K(),u("submit",a)}})};return M(()=>{const C=P.get("cd");C&&console.log(C)}),(C,l)=>{const J=vt;return E(),B(V,null,[t(e(ye),{model:e(a),rules:e(c),ref:(i,y)=>{y.formRef=i,_.value=i},"show-feedback":!1,"show-require-mark":!1},{default:s(()=>[t(e(f),{label:"\u6B32\u501F\u7528\u65E5\u671F",path:"rentDate"},{default:s(()=>[t(J,{onDate:Z,onPeriod:Q,periodErr:r.value},null,8,["periodErr"])]),_:1}),t(e(k)),h("div",bt,[t(e(f),{label:"\u8AB2\u7A0B\u540D\u7A31",path:"class"},{default:s(()=>[t(e(b),{placeholder:"\u8ACB\u8F38\u5165",value:e(a).class,"onUpdate:value":l[0]||(l[0]=i=>e(a).class=i)},null,8,["value"])]),_:1}),t(e(f),{label:"\u6388\u8AB2\u6559\u5E2B",path:"teacher"},{default:s(()=>[t(e(b),{placeholder:"\u8ACB\u8F38\u5165",value:e(a).teacher,"onUpdate:value":l[1]||(l[1]=i=>e(a).teacher=i)},null,8,["value"])]),_:1}),t(e(f),{label:"\u7528\u9014",path:"purpose"},{default:s(()=>[t(e(b),{placeholder:"\u8ACB\u8F38\u5165",value:e(a).purpose,"onUpdate:value":l[2]||(l[2]=i=>e(a).purpose=i)},null,8,["value"])]),_:1}),t(e(f),{label:"\u501F\u7528\u5668\u6750",path:"tools"},{default:s(()=>[t(e(b),{placeholder:"\u8ACB\u8F38\u5165",value:e(a).tools,"onUpdate:value":l[3]||(l[3]=i=>e(a).tools=i)},null,8,["value"])]),_:1})]),t(e(k)),h("div",yt,[t(e(f),{label:"\u501F\u7528\u4EBA"},{default:s(()=>[h("div",Ct,[t(e(f),{path:"renter","show-label":!1},{default:s(()=>[t(e(b),{placeholder:"\u59D3\u540D",value:e(a).renter,"onUpdate:value":l[4]||(l[4]=i=>e(a).renter=i)},null,8,["value"])]),_:1}),t(e(f),{path:"renterClassNo","show-label":!1},{default:s(()=>[t(e(b),{placeholder:"\u73ED\u7D1A\u5EA7\u865F",value:e(a).renterClassNo,"onUpdate:value":l[5]||(l[5]=i=>e(a).renterClassNo=i)},null,8,["value"])]),_:1}),t(e(f),{path:"renterID","show-label":!1},{default:s(()=>[t(e(b),{placeholder:"\u5B78\u865F",value:e(a).renterID,"onUpdate:value":l[6]||(l[6]=i=>e(a).renterID=i)},null,8,["value"])]),_:1}),t(e(f),{path:"renterPhone","show-label":!1},{default:s(()=>[t(e(b),{placeholder:"\u96FB\u8A71",maxlength:"10",value:e(a).renterPhone,"onUpdate:value":l[7]||(l[7]=i=>e(a).renterPhone=i)},null,8,["value"])]),_:1})])]),_:1}),t(e(f),{"label-placement":"top",label:"\u4EE3\u7406\u4EBA"},{default:s(()=>[h("div",Dt,[t(e(f),{path:"agent","show-label":!1},{default:s(()=>[t(e(b),{placeholder:"\u59D3\u540D",value:e(a).agent,"onUpdate:value":l[8]||(l[8]=i=>e(a).agent=i)},null,8,["value"])]),_:1}),t(e(f),{path:"agentClassNo","show-label":!1},{default:s(()=>[t(e(b),{placeholder:"\u73ED\u7D1A\u5EA7\u865F",value:e(a).agentClassNo,"onUpdate:value":l[9]||(l[9]=i=>e(a).agentClassNo=i)},null,8,["value"])]),_:1}),t(e(f),{path:"agentID","show-label":!1},{default:s(()=>[t(e(b),{placeholder:"\u5B78\u865F",value:e(a).agentID,"onUpdate:value":l[10]||(l[10]=i=>e(a).agentID=i)},null,8,["value"])]),_:1}),t(e(f),{path:"agentPhone","show-label":!1},{default:s(()=>[t(e(b),{placeholder:"\u96FB\u8A71",maxlength:"10",value:e(a).agentPhone,"onUpdate:value":l[11]||(l[11]=i=>e(a).agentPhone=i)},null,8,["value"])]),_:1})])]),_:1})]),t(e(k)),(E(!0),B(V,null,ge(e(a).classMate,(i,y)=>(E(),L(e(f),{"label-placement":"top",key:`mate-${y}`},{default:s(()=>[h("div",Et,[t(e(f),{"ignore-path-change":"",path:`classMate[${y}].name`,"show-label":!1,rule:e(S)},{default:s(()=>[t(e(b),{placeholder:"\u5171\u540C\u4F7F\u7528\u4EBA",value:e(a).classMate[y].name,"onUpdate:value":A=>e(a).classMate[y].name=A},null,8,["value","onUpdate:value"])]),_:2},1032,["path","rule"]),t(e(f),{"ignore-path-change":"",path:`classMate[${y}].classNo`,"show-label":!1,rule:e(S)},{default:s(()=>[t(e(b),{placeholder:"\u73ED\u7D1A\u5EA7\u865F",value:e(a).classMate[y].classNo,"onUpdate:value":A=>e(a).classMate[y].classNo=A},null,8,["value","onUpdate:value"])]),_:2},1032,["path","rule"]),t(e(f),{"ignore-path-change":"",path:`classMate[${y}].id`,"show-label":!1,rule:e(S)},{default:s(()=>[t(e(b),{placeholder:"\u5B78\u865F",value:e(a).classMate[y].id,"onUpdate:value":A=>e(a).classMate[y].id=A},null,8,["value","onUpdate:value"])]),_:2},1032,["path","rule"]),t(e(f),{"ignore-path-change":"",path:`classMate[${y}].phone`,"show-label":!1,rule:e(S)},{default:s(()=>[t(e(b),{maxlength:"10",placeholder:"\u96FB\u8A71",value:e(a).classMate[y].phone,"onUpdate:value":A=>e(a).classMate[y].phone=A},null,8,["value","onUpdate:value"])]),_:2},1032,["path","rule"])]),t(e(m),{class:"ml-2",type:"error",ghost:"",onClick:A=>D(y)},{icon:s(()=>[t(e(q),null,{default:s(()=>[t(e(Ce))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024))),128)),e(a).classMate.length<10?(E(),L(e(m),{key:0,dashed:"",block:"",class:"mt-5",type:"primary",onClick:v},{icon:s(()=>[t(e(q),null,{default:s(()=>[t(e(be))]),_:1})]),default:s(()=>[Bt]),_:1})):$("",!0),t(e(k)),t(e(f),{label:"\u501F\u7528\u4EBA\u4FE1\u7BB1",path:"renterEmail"},{default:s(()=>[t(e(b),{placeholder:"\u96FB\u5B50\u4FE1\u7BB1",value:e(a).renterEmail,"onUpdate:value":l[12]||(l[12]=i=>e(a).renterEmail=i)},null,8,["value"])]),_:1})]),_:1},8,["model","rules"]),t(e(k)),t(e(m),{type:"primary",block:"",onClick:W,class:"h-[50px]",disabled:d.value>0},{default:s(()=>[At]),_:1},8,["disabled"])],64)}}});var wt=N(Ft,[["__scopeId","data-v-1d365eee"]]);const $t={class:"home"},kt={id:"calendar-wrapper",class:"block-container"},Nt=["src"],It={id:"form-wrapper",class:"block-container"},Mt=w({setup(p){const u=R(),n=I(()=>u.state.config),d=F(!1),r=G(),o=F(!1),_=async c=>{o.value=!0;try{await Ee(n.value.serviceID,n.value.templateID,c,n.value.mailjsUserID),r.success("\u5DF2\u6210\u529F\u5BC4\u51FA\u7533\u8ACB !"),o.value=!1,P.set("cd",T(new Date).add(10,"m").unix()),setTimeout(()=>{location.reload()},1e3)}catch(a){r.error(`${a}
 \u8ACB\u806F\u7E6B\u7BA1\u7406\u54E1`),console.log(a),o.value=!1}};return M(async()=>{}),(c,a)=>{const v=wt;return E(),B("main",$t,[h("section",kt,[t(e(Y),{show:!d.value,class:"w-full h-full rounded-md"},{default:s(()=>[e(n)?(E(),B("iframe",{key:0,class:"w-full h-full rounded-md min-h-[500px]",src:e(n).gCalendar,frameborder:"0",onLoad:a[0]||(a[0]=D=>d.value=!0)},null,40,Nt)):$("",!0)]),_:1},8,["show"])]),h("section",It,[t(e(Y),{show:o.value},{default:s(()=>[t(v,{onSubmit:_})]),_:1},8,["show"])])])}}});var Pt=N(Mt,[["__scopeId","data-v-6f75ea3f"]]);const Ut=[{path:"/",name:"Home",component:Pt},{path:"/admin-login",name:"AdminLogin",component:()=>U(()=>import("./AdminLogin.62f89ee3.js"),["assets/AdminLogin.62f89ee3.js","assets/AdminLogin.55ef8e8b.css","assets/vendor.b7fa2fb1.js"])},{path:"/dashboard",name:"Dashboard",component:()=>U(()=>import("./Dashboard.a2988205.js"),["assets/Dashboard.a2988205.js","assets/Dashboard.fc1ad3c6.css","assets/vendor.b7fa2fb1.js"])},{path:"/rules",name:"Rules",component:()=>U(()=>import("./Rules.6ad2f83c.js"),["assets/Rules.6ad2f83c.js","assets/Rules.e185e264.css","assets/vendor.b7fa2fb1.js"])},{path:"/about",name:"About",component:()=>U(()=>import("./About.2a3ce1fa.js"),["assets/About.2a3ce1fa.js","assets/About.a64171ed.css","assets/vendor.b7fa2fb1.js"])}],St=Be({history:Ae(),routes:Ut});var Rt=Fe({state:{config:null,db:null,signin:!1,user:null},mutations:{SET_CONFIG:(p,u)=>{p.config=u},SET_DB:(p,u)=>{p.db=u},SET_SIGNIN:(p,u)=>{p.signin=u},SET_USER:(p,u)=>{p.user=u}},actions:{},modules:{}});we(lt).use(St).use(Rt).mount("#app");export{N as _,x as d,ht as e};
